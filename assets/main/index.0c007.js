window.__require=function t(e,o,n){function r(i,a){if(!o[i]){if(!e[i]){var u=i.split("/");if(u=u[u.length-1],!e[u]){var s="function"==typeof __require&&__require;if(!a&&s)return s(u,!0);if(c)return c(u,!0);throw new Error("Cannot find module '"+i+"'")}i=u}var l=o[i]={exports:{}};e[i][0].call(l.exports,function(t){return r(e[i][1][t]||t)},l,l.exports,t,e,o,n)}return o[i].exports}for(var c="function"==typeof __require&&__require,i=0;i<n.length;i++)r(n[i]);return r}({Define:[function(t,e,o){"use strict";cc._RF.push(e,"a97bbpNbSxFu7sZcABUSsB+","Define"),Object.defineProperty(o,"__esModule",{value:!0}),o.AdType=o.GameType=void 0,o.GameType||(o.GameType={}),o.AdType||(o.AdType={});var n=function(){function t(){}return t.getCheckOutScore=function(t){var e=0;return 1<=t&&t<=4?e=t+2:5<=t&&t<=9?e=2*(t-4)+5:10<=t&&t<=14?e=4*(t-9)+13:15<=t&&(e=6*(t-14)+31),20*e},t.eneryTime=600,t.propwight=[10,30],t.propheight=[10,50],t.timer=[10,30],t.rodey=[0,200,-200,-400],t.gameType=0,t}();o.default=n,cc._RF.pop()},{}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"1b3e7JtoBJB1o/tI1gT3VdB","GameScene");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./heroSc"),a=t("./tools/Define"),u=t("./tools/storage"),s=cc._decorator,l=s.ccclass,p=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timestr=null,e.rodenode=null,e.rode=null,e.overpanel=null,e.timer=0,e}return r(e,t),e.prototype.onLoad=function(){this.addRode(),cc.game.on("gameover",this.showGameOver,this)},e.prototype.start=function(){},e.prototype.showGameOver=function(){cc.instantiate(this.overpanel).parent=cc.director.getScene(),cc.director.pause()},e.prototype.addRode=function(){for(var t=0;t<a.default.gameType;t++){var e=cc.instantiate(this.rode);e.y=a.default.rodey[t],e.parent=this.rodenode}},e.prototype.update=function(t){this.timer+=t,u.default.Instance.alive+=t,this.timestr.string=""+this.timer.toFixed(2),u.default.Instance.gamescore=this.timestr.string},e.prototype.bottomBtnClick=function(t,e){var o=this.rodenode.children;if("gun"==e)for(var n=0;n<o.length;n++)o[n].getChildByName("hero").getComponent(i.default).addBullet(10);else if("dun"==e)for(n=0;n<o.length;n++)o[n].getChildByName("hero").getComponent(i.default).addDun(15)},c([p(cc.Label)],e.prototype,"timestr",void 0),c([p(cc.Node)],e.prototype,"rodenode",void 0),c([p(cc.Prefab)],e.prototype,"rode",void 0),c([p(cc.Prefab)],e.prototype,"overpanel",void 0),c([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./heroSc":"heroSc","./tools/Define":"Define","./tools/storage":"storage"}],LoadSceneSc:[function(t,e,o){"use strict";cc._RF.push(e,"c0bd2P6zeNAxLjcIXlhDgVG","LoadSceneSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,u=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){cc.director.preloadScene("StartScene")},e.prototype.start=function(){cc.tween(this.node).delay(1).call(function(){cc.director.loadScene("StartScene")}).start()},c([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{}],StartSceneSc:[function(t,e,o){"use strict";cc._RF.push(e,"d26d5Ao0QVOEJ4E8aO53Otj","StartSceneSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./tools/Define"),a=cc._decorator,u=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,cc.director.preloadScene("GameScene")},e.prototype.start=function(){},e.prototype.gameStartBtnClick=function(t,e){i.default.gameType=Number(e),cc.director.loadScene("GameScene")},c([u],e)}(cc.Component));o.default=s,cc._RF.pop()},{"./tools/Define":"Define"}],bulletSc:[function(t,e,o){"use strict";cc._RF.push(e,"6674fXP1RtHEa1C3W8zpgbu","bulletSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,u=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t,e){if("prop"==t.node.name){var o=cc.find("wu",t.node);o.active=!0;var n=o.getComponent(cc.Animation);e.node.active=!1,e.node.removeFromParent(!0),n.play(),n.on("finished",function(){t.node.active=!1,t.node.removeFromParent(!0)})}},c([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{}],heroSc:[function(t,e,o){"use strict";cc._RF.push(e,"5c33bqaPfdNjZnjYp27NKmi","heroSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./tools/storage"),a=cc._decorator,u=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wu=null,e.dun=null,e.bullet=null,e.hudun=!1,e.gun=!1,e}return r(e,t),e.prototype.onLoad=function(){this.hudun=!1,this.gun=!1,this.dun.active=!1,this.wu.active=!1;var t=this;this.wu.getComponent(cc.Animation).on("finished",function(){t.wu.active=!1}),this.addDun(5)},e.prototype.addBullet=function(t){var e=this;this.gun=!0;var o=this;this.unscheduleAllCallbacks();var n=0;this.schedule(function(){var r=cc.instantiate(o.bullet);r.parent=o.node.parent;var c=o.node.y,i=o.node.x;console.log("\u53d1\u5c04\u5b50\u5f39",i,c),r.position=cc.v3(15+i,20+c,0),cc.tween(r).to(1,{position:cc.v3(600,20+c,0)}).call(function(){r.removeFromParent(!0)}).start(),++n>=t&&(e.gun=!1)},1,t,0)},e.prototype.addDun=function(t){this.hudun=!0,this.dun.active=!0;var e=this;cc.tween(this.node).delay(t-1).call(function(){e.dun.getComponent(cc.Animation).play()}).delay(1).call(function(){e.hudun=!1,e.dun.active=!1}).start()},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){var e=this;console.log("hero\u78b0\u649e"),"prop"==t.node.name?(e.wu.active=!0,e.wu.getComponent(cc.Animation).play(),0==this.hudun&&cc.tween(this.node).delay(.15).call(function(){i.default.Instance.alive>3&&(console.log("\u82f1\u96c4\u649e\u51fb\u5230\u969c\u788d\u7269",i.default.Instance.alive),cc.game.emit("gameover"),e.wu.active=!1)}).start(),t.node.active=!1,t.node.removeFromParent(!0)):"gun"==t.node.name?(0==this.gun&&(console.log("\u83b7\u5f97\u5b50\u5f39"),this.addBullet(5)),t.node.active=!1,t.node.removeFromParent(!0)):"dun"==t.node.name&&(console.log("\u83b7\u5f97\u62a4\u76fe"),0==this.hudun&&this.addDun(10),t.node.active=!1,t.node.removeFromParent(!0))},c([s(cc.Node)],e.prototype,"wu",void 0),c([s(cc.Node)],e.prototype,"dun",void 0),c([s(cc.Prefab)],e.prototype,"bullet",void 0),c([u],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./tools/storage":"storage"}],overPanel:[function(t,e,o){"use strict";cc._RF.push(e,"ad9edngI4hH1Jxy7LcF88mz","overPanel");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./heroSc"),a=t("./tools/Define"),u=t("./tools/storage"),s=cc._decorator,l=s.ccclass,p=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hightscore=null,e.score=null,e}return r(e,t),e.prototype.onLoad=function(){var t=u.default.Instance.getHightScore(a.default.gameType),e=Number(u.default.Instance.gamescore);e>t?(this.hightscore.string="\u6700\u9ad8\u751f\u5b58\u65f6\u95f4:"+e+"s",u.default.Instance.setHightScore(a.default.gameType,e)):this.hightscore.string="\u6700\u9ad8\u751f\u5b58\u65f6\u95f4:"+t+"s",this.score.string="\u5f53\u524d\u751f\u5b58\u65f6\u95f4:"+e+"s"},e.prototype.start=function(){},e.prototype.restartBtnClick=function(){cc.director.resume(),cc.director.loadScene("GameScene")},e.prototype.reliveBtnClick=function(){for(var t=cc.find("Canvas/rodenode").children,e=0;e<t.length;e++)t[e].getChildByName("hero").getComponent(i.default).addDun(5);u.default.Instance.alive=0,cc.director.resume(),this.node.removeFromParent(!0)},e.prototype.backBtnClick=function(){cc.director.resume(),cc.director.loadScene("StartScene")},c([p(cc.Label)],e.prototype,"hightscore",void 0),c([p(cc.Label)],e.prototype,"score",void 0),c([l],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./heroSc":"heroSc","./tools/Define":"Define","./tools/storage":"storage"}],propSc:[function(t,e,o){"use strict";cc._RF.push(e,"939d6oHRNFFga7TgsLIn4+Q","propSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,u=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.start=function(){},c([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{}],rodeSc:[function(t,e,o){"use strict";cc._RF.push(e,"49316fMtFFKOIm1+ctGLhYQ","rodeSc");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var r,c=arguments.length,i=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(i=(c<3?r(i):c>3?r(e,o,i):r(e,o))||i);return c>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./tools/Define"),a=t("./tools/utils"),u=cc._decorator,s=u.ccclass,l=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prop=null,e.gun=null,e.dun=null,e.hero=null,e.timer=0,e.gotimer=0,e.wight=0,e.canClick=!1,e}return r(e,t),e.prototype.onLoad=function(){this.timer=0,this.gotimer=a.default.getRangeRandom(10,30)/10,this.wight=cc.winSize.width,this.canClick=!0},e.prototype.start=function(){},e.prototype.addProp=function(){var t=a.default.getRangeRandom(0,20);console.log("\u968f\u673a\u6570=",t);var e=null;(e=8==t?cc.instantiate(this.gun):3==t?cc.instantiate(this.dun):cc.instantiate(this.prop)).x=this.wight/2,cc.tween(e).to(3,{position:cc.v3(-e.x,0,0)}).call(function(){e.removeFromParent(!0)}).start();var o=a.default.getRangeRandom(i.default.propwight[0],i.default.propwight[1]),n=a.default.getRangeRandom(i.default.propheight[0],i.default.propheight[1]);e.width=o,e.height=n;var r=e.getComponent(cc.BoxCollider);r.offset.y=e.height/2,r.size.width=e.width,r.size.height=e.height,e.parent=this.node},e.prototype.herojumpClick=function(){if(1==this.canClick){this.canClick=!1;var t=this;cc.tween(this.hero).to(.3,{position:cc.v3(-200,110,0)}).delay(.06).to(.3,{position:cc.v3(-200,5,0)}).call(function(){t.canClick=!0}).start()}},e.prototype.update=function(t){this.timer+=t,this.timer>=this.gotimer&&(this.timer=0,this.gotimer=a.default.getRangeRandom(i.default.timer[0],i.default.timer[1])/10,this.addProp())},c([l(cc.Prefab)],e.prototype,"prop",void 0),c([l(cc.Prefab)],e.prototype,"gun",void 0),c([l(cc.Prefab)],e.prototype,"dun",void 0),c([l(cc.Node)],e.prototype,"hero",void 0),c([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./tools/Define":"Define","./tools/utils":"utils"}],storage:[function(t,e,o){"use strict";cc._RF.push(e,"62a2cB5lcJI8oU38mHFaRLQ","storage"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.eneryTime=0,this.nowEnery=0,this.addgoldcishu=5,this.isfirstlogin=!0,this.jilvchenghao=-1,this.jilvherolv=-1,this.gamescore="",this.alive=0}return Object.defineProperty(t,"Instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.setHightScore=function(t,e){cc.sys.localStorage.setItem("game"+t,e)},t.prototype.getHightScore=function(t){var e=cc.sys.localStorage.getItem("game"+t);return e=e||0,Number(e)},t.prototype.setGold=function(t){cc.sys.localStorage.setItem("gold",t)},t.prototype.getGold=function(){var t=cc.sys.localStorage.getItem("gold");return null!=t&&null!=t&&"NaN"!=t&&""!=t||(t=0,this.setGold(0)),Number(t)},t.prototype.addGold=function(t){var e=this.getGold();e+=t,this.setGold(e)},t.prototype.setEnergy=function(t){this.nowEnery=t,cc.sys.localStorage.setItem("tili",t)},t.prototype.getEnergy=function(){var t=cc.sys.localStorage.getItem("tili");return null!=t&&null!=t&&"NaN"!=t&&""!=t||(t=10,this.setEnergy(10)),this.nowEnery=Number(t),this.nowEnery},t.prototype.setTiShi=function(t){cc.sys.localStorage.setItem("tishi",t)},t.prototype.getTiShi=function(){var t=cc.sys.localStorage.getItem("tishi");return null!=t&&null!=t&&"NaN"!=t&&""!=t||(t=5,this.setTiShi(5)),Number(t)},t.prototype.setPetsData=function(t){var e=JSON.stringify(t);cc.sys.localStorage.setItem("pets",e)},t.prototype.getPetsData=function(){var t=cc.sys.localStorage.getItem("pets");return null==t||null==t||"NaN"==t||""==t?[0,0,0]:JSON.parse(t)},t._instance=null,t}();o.default=n,cc._RF.pop()},{}],utils:[function(t,e,o){"use strict";cc._RF.push(e,"44e8cdjnK5ETLgxZJBa+kJ1","utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getRandomValueDif=function(t,e,o){for(var n=new Array,r=o?o>e-t+1?e-t+1:o:1,c=t,i=0;c<=e;c++,i++)n[i]=c;var a=[];n.sort(function(){return.5-Math.random()});for(var u=0;u<r;u++){var s=Math.floor(Math.random()*n.length);a.push(n[s]);var l=n[s];n[s]=n[n.length-1],n[n.length-1]=l,n.pop()}return a},t.getRangeRandom=function(e,o){return t.getRandomValueDif(e,o,1)[0]},t.secondsFormat=function(t,e){var o,n,r=Math.floor(t/3600),c=Math.floor((t-3600*r)/60),i=t-3600*r-60*c;return o=c<10?"0"+c:""+c,n=i<10?"0"+i:""+i,e?(r<10?"0"+r:""+r)+":"+o+":"+n:o+":"+n},t.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var o=Math.max(t.length,e.length);t.length<o;)t.push("0");for(;e.length<o;)e.push("0");for(var n=0;n<o;n++){var r=parseInt(t[n]),c=parseInt(e[n]);if(r>c)return 1;if(r<c)return-1}return 0},t.prototype.secondsFormat=function(t){var e=Math.floor(t/3600),o=Math.floor((t-3600*e)/60),n=t-3600*e-60*o;return(o<10?"0"+o:""+o)+":"+(n<10?"0"+n:""+n)},t}();o.default=n,cc._RF.pop()},{}]},{},["GameScene","LoadSceneSc","StartSceneSc","bulletSc","heroSc","overPanel","propSc","rodeSc","Define","storage","utils"]);